{"ast":null,"code":"import { pm2, authenticate, database, session, method, combine } from '../../../server/middlewares';\nimport { getList } from '../../../server/pm2';\nimport { UserAppRight } from '../../../shared/user';\n\nconst list = async (req, res) => {\n  const list = await getList();\n  const {\n    user\n  } = req;\n  const apps = user.isAdmin ? list : list.filter(a => user.hasRight(a.name, UserAppRight.VIEW));\n  res.status(200).json({\n    apps\n  });\n};\n\nexport default combine(method('GET'), database, session, authenticate({\n  required: true\n}), pm2, list);","map":null,"metadata":{},"sourceType":"module"}