{"ast":null,"code":"import { UserModel } from '../models/user';\n;\nexport default ((options = {}) => fn => {\n  return async (req, res) => {\n    if (!req.session.userId) {\n      req.user = null;\n\n      if (options.required) {\n        res.status(403).send('');\n        return;\n      }\n    }\n\n    req.user = await UserModel.findOne({\n      _id: req.session.userId\n    });\n    return await fn(req, res);\n  };\n});","map":null,"metadata":{},"sourceType":"module"}