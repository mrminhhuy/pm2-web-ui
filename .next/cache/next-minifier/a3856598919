{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{\"/EDR\":function(t,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"23aj\")}])},\"23aj\":function(t,a,n){\"use strict\";n.r(a);var e,i=n(\"q1tI\"),r=n.n(i),l=n(\"muLP\"),s=n(\"AD/7\"),o=n(\"VtrM\"),c=n(\"UJ/n\"),u=n(\"rePB\"),p=n(\"wx14\"),d=n(\"Ff2n\"),f=n(\"wd/R\"),m=n.n(f),v=n(\"nOHt\"),h=n.n(v),g=n(\"3xcS\"),N=n(\"mBNB\"),b=n(\"Ozl8\"),y=n(\"DBJP\"),O=r.a.createElement,x=function(t){var a=t.pull,n=void 0===a?\"right\":a,e=Object(d.a)(t,[\"pull\"]);return O(y.a,Object(p.a)({className:n?\"is-pulled-\".concat(n):\"\",icon:\"fa-eye\",style:{marginLeft:\"10px\",display:\"inline\"}},e))},w=n(\"DRfh\"),E=r.a.createElement;function j(t){var a=t.children,n=Object(d.a)(t,[\"children\"]);return E(\"td\",n,a)}var L=function(t){return function(a){var n=a.children,e=Object(d.a)(a,[\"children\"]),i={onClick:function(){return h.a.push(\"/apps/[id]\",\"/apps/\".concat(t))},onContextMenu:function(t){var a=function t(a){var n=\"\";Array.isArray(a)||(a=[a]);for(var e=0;e<a.length;e++){var i,r=a[e];if(void 0!==r&&null!==r)if(Array.isArray(r)&&(n+=t(r)),\"object\"!==typeof r)n+=r;else n+=t(null===(i=r.props)||void 0===i?void 0:i.children)}return n}(n);t.preventDefault(),navigator.clipboard.writeText(a).catch(console.log)},style:{cursor:\"pointer\"}};return E(j,Object(p.a)({},i,e),n)}},_=(e={},Object(u.a)(e,N.a.ONLINE,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-play has-text-success\"}))})),Object(u.a)(e,N.a.STOPPING,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-stop-circle\"}))})),Object(u.a)(e,N.a.STOPPED,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-stop\"}))})),Object(u.a)(e,N.a.LAUNCHING,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-rocket has-text-primary\"}))})),Object(u.a)(e,N.a.ERRORED,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-exclamation-triangle has-text-danger\"}))})),Object(u.a)(e,N.a.ONE_LAUNCH,(function(){return E(\"span\",{className:\"icon is-pulled-right\",style:{marginLeft:\"10px\"}},E(\"i\",{className:\"fas fa-asterisk\"}))})),e),P=Math.pow(1024,2);function R(t){var a=t.app,n=t.isFirst,e=void 0!==n&&n,i=a,l=i.pid,s=i.pm_id,o=i.name,c=i.monit,u=i.pm2_env,p=c.memory,d=c.cpu,f=u.watch,v=u.restart_time,h=u.unstable_restarts,g=u.pm_uptime,y=u.status,O=u.exec_mode,w=_[y]?_[y]():null,j=m()(g),R=L(o),D=\"\".concat(o,\"\\npid: \").concat(l),T=E(r.a.Fragment,null,O===N.b.CLUSTER?E(r.a.Fragment,null,\" (\".concat(l,\")\"),E(b.a,null)):null,f?E(x,null):null);return E(\"tr\",null,E(R,null,s),E(R,{className:\"has-tooltip-\".concat(e?\"right\":\"top\"),\"data-tooltip\":D},o,T),E(R,null,w,y),E(R,{\"data-tooltip\":j.calendar()},j.fromNow(!0)),E(R,null,v,h>0?[\" + \",E(\"b\",{key:\"unstable-restarts\",className:\"has-text-danger has-tooltip-danger\",\"data-tooltip\":\"this application had \".concat(h,\" unstable restart\").concat(1!=h?\"s\":\"\")},h)]:null),E(R,null,(p/P).toFixed(2),\"mb\"),E(R,null,d,\"%\"))}function D(){return E(\"progress\",{className:\"progress is-small is-info\",max:\"100\"},\"Loading...\")}function T(){return E(\"div\",{style:{textAlign:\"center\",width:\"100%\",padding:\"10px\"}},E(\"p\",{className:\"subtitle\"},\"There are no applications.\"))}var k=function(t){var a=t.apps,n=void 0===a?[]:a,e=t.isLoading,i=void 0!==e&&e,r=t.error,l=void 0===r?null:r;if(l){var s,o,c,u,p,d=null!==(s=null===(o=l.response)||void 0===o?void 0:o.statusText)&&void 0!==s?s:\"Error\",f=null!==(c=null===(u=l.response)||void 0===u?void 0:null===(p=u.data)||void 0===p?void 0:p.message)&&void 0!==c?c:l.toString();return E(g.a,{title:d,text:f,style:{width:\"100%\"}})}if(i)return E(D,null);if(0===n.length)return E(T,null);var m=n.map((function(t,a){return E(R,{key:\"app_row_\".concat(t.pid),app:t,isFirst:0===a})}));return E(\"div\",{className:\"table-container\",style:{width:\"100%\"}},E(\"table\",{className:\"table is-fullwidth is-bordered is-striped is-hoverable\"},E(w.a,{columns:[\"id\",\"name\",\"status\",\"uptime\",\"restarts\",\"memory\",\"cpu\"]}),E(\"tbody\",null,m)))},A=n(\"jcc4\"),I=r.a.createElement;a.default=Object(l.a)(Object(s.a)((function(){var t=Object(o.a)(\"/api/apps\",c.a,{refreshInterval:8e3}),a=t.data,n=t.error,e=t.isValidating,i=t.revalidate,r=!e&&(a||n);return I(A.a,null,I(\"div\",{className:\"container panel is-info\"},I(\"div\",{className:\"panel-heading\"},\"Applications\",I(\"a\",{className:\"button button-primary is-pulled-right is-light is-outlined \".concat(r?\"\":\"is-loading\"),style:{marginTop:\"-6px\"},onClick:function(){return r&&i()}},\"Update\")),I(\"div\",{className:\"panel-block\",style:{width:\"100%\"}},I(k,{isLoading:!a,apps:a?a.apps:null,error:null!==n&&void 0!==n?n:null}))))})))},DRfh:function(t,a,n){\"use strict\";var e=n(\"Ff2n\"),i=n(\"q1tI\"),r=n.n(i).a.createElement;a.a=function(t){var a=t.columns,n=Object(e.a)(t,[\"columns\"]),i=a.map((function(t){return r(\"th\",{key:t},t)}));return r(\"thead\",n,r(\"tr\",null,i))}},Ozl8:function(t,a,n){\"use strict\";var e=n(\"wx14\"),i=n(\"Ff2n\"),r=n(\"q1tI\"),l=n.n(r),s=n(\"DBJP\"),o=l.a.createElement;a.a=function(t){var a=t.pull,n=void 0===a?\"right\":a,r=Object(i.a)(t,[\"pull\"]);return o(s.a,Object(e.a)({className:n?\"is-pulled-\".concat(n):\"\",icon:\"fa-layer-group\",style:{marginLeft:\"10px\",display:\"inline\"}},r))}},mBNB:function(t,a,n){\"use strict\";var e,i;n.d(a,\"a\",(function(){return e})),n.d(a,\"b\",(function(){return i})),function(t){t.ONLINE=\"online\",t.STOPPING=\"stopping\",t.STOPPED=\"stopped\",t.LAUNCHING=\"launching\",t.ERRORED=\"errored\",t.ONE_LAUNCH=\"one-launch-status\"}(e||(e={})),function(t){t.CLUSTER=\"cluster_mode\",t.FORK=\"fork_mode\"}(i||(i={}))}},[[\"/EDR\",0,2,1,3,4,10,11]]]);"}